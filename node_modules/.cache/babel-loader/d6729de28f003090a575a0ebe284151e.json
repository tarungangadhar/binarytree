{"ast":null,"code":"import _slicedToArray from\"D:\\\\BinaryTree-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useCallback,useEffect,useState}from\"react\";import Graph from\"react-graph-vis\";import{InputForm}from\"./InputForm\";import{BinaryTree}from\"../tree-lib/BinaryTree\";import Col from\"react-bootstrap/Col\";import{options}from\"../config\";import Row from\"react-bootstrap/Row\";import{IconTrash}from\"./Icons\";var TreeGraph=function TreeGraph(props){var defaultTree={edges:[],nodes:[]};var _useState=useState(new BinaryTree(null)),_useState2=_slicedToArray(_useState,2),tree=_useState2[0],setTree=_useState2[1];var _useState3=useState({edges:[],nodes:[]}),_useState4=_slicedToArray(_useState3,2),representation=_useState4[0],setRepresentation=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),network=_useState6[0],setNetwork=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),divElement=_useState8[0],setDiv=_useState8[1];var handleResize=useCallback(function(){if(network){var newOptions=options;newOptions.height=\"\".concat(divElement.clientHeight,\"px\");network.setOptions(newOptions);network.fit();}},[network,divElement]);useEffect(function(){window.addEventListener('resize',handleResize);});useEffect(function(){handleResize();});var update=function update(newVal){setRepresentation(newVal);if(network){network.setData(newVal);}};var clear=function clear(){update(defaultTree);setTree(new BinaryTree(null));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:4,className:\"mb-2\"},/*#__PURE__*/React.createElement(InputForm,{update:update,tree:tree}),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){clear();}},/*#__PURE__*/React.createElement(IconTrash,null),\"Clear tree\")))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{style:{height:'80vh'},ref:function ref(divElement){setDiv(divElement);},className:\"border border-dark\"},/*#__PURE__*/React.createElement(Graph,{options:props.options,updateTrigger:representation,graph:{edges:[],nodes:[]},getNetwork:function getNetwork(network){setNetwork(network);}}))));};export{TreeGraph};","map":{"version":3,"names":["React","useCallback","useEffect","useState","Graph","InputForm","BinaryTree","Col","options","Row","IconTrash","TreeGraph","props","defaultTree","edges","nodes","_useState","_useState2","_slicedToArray","tree","setTree","_useState3","_useState4","representation","setRepresentation","_useState5","_useState6","network","setNetwork","_useState7","_useState8","divElement","setDiv","handleResize","newOptions","height","concat","clientHeight","setOptions","fit","window","addEventListener","update","newVal","setData","clear","createElement","Fragment","md","className","onClick","style","ref","updateTrigger","graph","getNetwork"],"sources":["D:/BinaryTree-master/src/components/TreeGraph.js"],"sourcesContent":["import React, {useCallback, useEffect, useState} from \"react\";\nimport Graph from \"react-graph-vis\";\nimport {InputForm} from \"./InputForm\";\nimport {BinaryTree} from \"../tree-lib/BinaryTree\";\nimport Col from \"react-bootstrap/Col\";\nimport {options} from \"../config\";\nimport Row from \"react-bootstrap/Row\";\nimport {IconTrash} from \"./Icons\";\n\nlet TreeGraph = (props) => {\n\n    const defaultTree = {\n        edges: [],\n        nodes: []\n    };\n\n    let [tree, setTree] = useState(new BinaryTree(null));\n\n    let [representation, setRepresentation] = useState({\n        edges: [],\n        nodes: []\n    });\n    let [network, setNetwork] = useState(null);\n    let [divElement, setDiv] = useState(null);\n\n    let handleResize = useCallback(() => {\n        if (network) {\n            let newOptions = options;\n            newOptions.height = `${divElement.clientHeight}px`;\n            network.setOptions(newOptions);\n            network.fit();\n        }\n    }, [network, divElement]);\n\n\n    useEffect(() => {\n        window.addEventListener('resize', handleResize);\n    });\n\n    useEffect(() => {\n        handleResize();\n    });\n\n    const update = (newVal) => {\n        setRepresentation(newVal);\n        if (network) {\n            network.setData(newVal);\n        }\n    };\n\n    const clear = () => {\n        update(defaultTree);\n        setTree(new BinaryTree(null));\n    };\n\n    return (\n        <React.Fragment>\n            <Col md={4} className={\"mb-2\"}>\n                <InputForm update={update} tree={tree}/>\n                <Row className={\"mt-3\"}>\n                    <Col>\n                        <button className={\"btn btn-danger\"} onClick={() => {\n                            clear()\n                        }}>\n                            <IconTrash/>\n                            Clear tree\n                        </button>\n                    </Col>\n                </Row>\n            </Col>\n            <Col>\n                <div style={{height: '80vh'}}\n                     ref={(divElement) => {\n                         setDiv(divElement)\n                     }}\n                     className={\"border border-dark\"}>\n                    <Graph\n                        options={props.options}\n                        updateTrigger={representation}\n                        graph={{edges: [], nodes: []}}\n                        getNetwork={network => {\n                            setNetwork(network)\n                        }}/>\n                </div>\n            </Col>\n        </React.Fragment>\n    );\n};\n\n\nexport {TreeGraph}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}